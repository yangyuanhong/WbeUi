<!DOCTYPE html>
<html lang="en">
    <head>
        <title>每次函数调用的时候创建一个新的闭包</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
        <script>
            function newClosure(someNum,someRef){
                //Local variables that end up within closure
                var num=someNum;
                var anArray=[1,2,3];
                var ref =someRef;
                return function(x){
                    num+=x;
                    anArray.push(num);
                    alert('num: ' + num +
                    '\nanArray ' + anArray.toString() +
                    '\nref:someVar ' + ref.someVar);
                }
            }
            closure1=newClosure(40,{someVar:'closure 1'});
            closure2=newClosure(1000,{someVar:'closure 2'});

            closure1(5);//num:45 anArray:1,2,3,45 ref:some closure1
            closure2(-10);//num:990 anArray:1,2,3,990 ref:some closure2
        </script>
    </head>
    <body>
    
    </body>
</html>